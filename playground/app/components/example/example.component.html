
<mat-tab-group (selectedTabChange)="tabChange($event)">

  <mat-tab label="Fields Editor">
        <fs-field-editor
          #fieldEditor
          [config]="config">
          <ng-template fsFieldConfig type="signpad" let-field="field">
            <div fxLayout="column">
              <fs-signature (changed)="field.data.value"></fs-signature>
            </div>
          </ng-template>

          <ng-template fsFieldRender type="signpad" let-field="field">
            <fs-label-field>
              <fs-label>Signature</fs-label>
              <fs-signature (change)="field.data.value = $event"></fs-signature>
            </fs-label-field>
          </ng-template>

          <ng-template fsFieldRender type="share" let-field="field">
            <img src="/assets/google-logo.svg" height="50" *ngIf="field.config.configs['google']">
            <img src="/assets/facebook-logo.svg" height="50" *ngIf="field.config.configs['facebook']">
          </ng-template>

          <ng-template fsFieldConfig type="share" let-field="field">
            <div fxLayout="column">
              <mat-checkbox [(ngModel)]="field.config.configs['facebook']" name="facebook" (click)="shareChange({ field: field })">Enable Facebook</mat-checkbox>
              <mat-checkbox [(ngModel)]="field.config.configs['google']" name="google" (click)="shareChange({ field: field })">Enable Google</mat-checkbox>
            </div>
          </ng-template>

          <ng-template fsFieldConfig type="terms" let-field="field">
            <div fxLayout="column">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Terms & Condition Label"
                  [(ngModel)]="field.config.configs.termsLabel"
                  [ngModelOptions]="{ updateOn: 'blur' }"
                  name="termsLabel">
              </mat-form-field>

              <mat-form-field>
                <mat-select
                  [(ngModel)]="field.config.configs.termsContentSource"
                  name="termsContentSource"
                  placeholder="Terms & Conditions Content">
                  <mat-option value="none">None</mat-option>
                  <mat-option value="url">URL</mat-option>
                </mat-select>
              </mat-form-field>

              <ng-container *ngIf="field.config.configs.termsContentSource==='url'">
                <mat-form-field>
                  <input
                    matInput
                    placeholder="Terms & Conditions Content URL"
                    [(ngModel)]="field.config.configs.termsContentUrl"
                    [ngModelOptions]="{ updateOn: 'blur' }"
                    name="termsContentUrl"
                    [fsFormUrl]="true">
                </mat-form-field>

                <mat-form-field>
                  <input
                    matInput
                    placeholder="Terms & Conditions Content Label"
                    [(ngModel)]="field.config.configs.termsContentLabel"
                    [ngModelOptions]="{ updateOn: 'blur' }"
                    name="termsContentLabel">
                </mat-form-field>
              </ng-container>
            </div>
          </ng-template>

          <ng-template fsFieldRender type="terms" let-field="field">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
              <fs-label-field>
                <fs-label>
                  {{ field.config.label }}
                </fs-label>
                <div fxLayout="column">
                  <mat-checkbox
                    [name]="name"
                    [(ngModel)]="field.data.value">
                    {{ field.config.configs.termsLabel }}
                  </mat-checkbox>
                </div>
                <div fxLayout="column" *ngIf="field.config.configs.termsContentSource==='url'">
                  <a [href]="field.config.configs.termsContentUrl" target="_blank">
                    {{field.config.configs.termsContentLabel}}
                  </a>
                </div>
              </fs-label-field>
            </div>
          </ng-template>
        </fs-field-editor>
    </mat-tab>

    <mat-tab label="Rendered Fields">
      <ng-template matTabContent>
        <div class="padding">
          <form (fsForm)="save()">
            <fs-field-renderer [config]="config">
              <ng-template fsFieldRender type="share" let-field="field">
                <img src="/assets/google-logo.svg" height="50" *ngIf="field.config.configs['google']">
                <img src="/assets/facebook-logo.svg" height="50" *ngIf="field.config.configs['facebook']">
              </ng-template>

              <ng-template fsFieldRender type="signpad" let-field="field">
                <fs-label-field>
                  <fs-label>Signature</fs-label>
                  <fs-signature (change)="field.data.value = $event"></fs-signature>
                </fs-label-field>
              </ng-template>
            </fs-field-renderer>

            <button mat-raised-button color="primary" type="submit">Save</button>
          </form>
        </div>
      </ng-template>
    </mat-tab>
    <mat-tab label="View Fields">
      <ng-template matTabContent>
        <p class="padding">
          <fs-field-viewer [config]="config">
            <ng-template fsFieldView type="share" let-field="field">
              <fs-label-field>
                <fs-label>Share</fs-label>
                <img src="/assets/google-logo.svg" height="50" *ngIf="field.config.configs['google']">
                <img src="/assets/facebook-logo.svg" height="50" *ngIf="field.config.configs['facebook']">
              </fs-label-field>
            </ng-template>

            <ng-template fsFieldView type="signpad" let-field="field">
              <fs-label-field>
                <fs-label>Signature</fs-label>
                <img [src]="field.data.value">
              </fs-label-field>
            </ng-template>
          </fs-field-viewer>
        </p>
      </ng-template>
    </mat-tab>
    <mat-tab label="Config">
      <ng-template matTabContent>
        <pre *ngIf="config">
          {{config|json}}
        </pre>
      </ng-template>
    </mat-tab>
  </mat-tab-group>

