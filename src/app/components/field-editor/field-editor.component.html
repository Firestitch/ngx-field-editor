<div fxFlexLayout="row" fxLayoutAlign="start start">
  <div class="fields" fxFlex cdkDropList (cdkDropListDropped)="drop($event)" id="fs-field-fields" #fieldsList="cdkDropList">
    <div  *ngFor="let field of fields; index as idx"
          class="fs-field-field field"
          cdkDrag
          cdkDragLockAxis="y"
          (cdkDragStarted)="fieldDragStart()"
          (click)="fieldClick(field)"
          [ngClass]="{ selected: selectedField===field }">
      <div class="field-container">

        <div class="field-drag" cdkDragHandle>
          <button button mat-icon-button class="drag-button"><mat-icon>drag_indicator</mat-icon></button>
        </div>

        <fs-field-header
            [selected]="selectedField===field"
            [field]="field"
            [fieldEditor]="fieldEditor">
        </fs-field-header>

        <fs-field-field-text
            *ngIf="field.type=='shorttext' || field.type=='longtext' || field.type=='phone' || field.type=='email' || field.type=='date' || field.type=='time' || field.type==='file' || field.type==='richtext'"
            [selected]="selectedField===field"
            [field]="field"
            [fieldEditor]="fieldEditor">
        </fs-field-field-text>

        <fs-field-field-options
            *ngIf="field.type=='choice' || field.type=='checkbox' || field.type=='dropdown'"
            [selected]="selectedField===field"
            [field]="field"
            [fieldEditor]="fieldEditor">
        </fs-field-field-options>

        <fs-field-field-name
            *ngIf="field.type=='name'"
            [field]="field"
            [selected]="selectedField===field"
            [fieldEditor]="fieldEditor">
        </fs-field-field-name>
      </div>
    </div>
  </div>
  <fs-field-toolbar></fs-field-toolbar>
</div>
