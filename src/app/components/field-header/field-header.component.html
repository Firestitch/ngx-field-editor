<div *ngIf="fieldEditor.selectedField===field; else selectedElse">
  <div fxFlexLayout="row" fxLayoutAlign="start center">
    <div fxFlex>
      <mat-form-field floatLabel="never" class="label">
        <input matInput placeholder="Label" [(ngModel)]="field.config.label" name="label" [ngModelOptions]="{ updateOn: 'blur' }" (ngModelChange)="changed($event)">
      </mat-form-field>
    </div>

    <button button mat-icon-button (click)="copy($event)"><mat-icon>filter_none</mat-icon></button>
    <button button mat-icon-button (click)="delete($event)"><mat-icon>delete</mat-icon></button>
    <mat-menu #headerMenu="matMenu">
      <button mat-menu-item (click)="toggleDescription()">Description</button>
    </mat-menu>
    <button button mat-icon-button [matMenuTriggerFor]="headerMenu"><mat-icon>more_vert</mat-icon></button>
  </div>

  <mat-form-field floatLabel="never" *ngIf="field.config.hasDescription" class="description">
    <textarea matInput placeholder="Description" [matTextareaAutosize]="true" [(ngModel)]="field.config.description" name="description" [ngModelOptions]="{ updateOn: 'blur' }" (ngModelChange)="changed($event)"></textarea>
  </mat-form-field>
</div>
<ng-template #selectedElse>
  <div class="view">
    <div class="label">{{field.config.label}}</div>
    <div class="description">{{field.config.description}}</div>
  </div>
</ng-template>