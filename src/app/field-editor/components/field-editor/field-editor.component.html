<div 
    class="field-editor-container" 
    [ngClass]="{ 
      'has-fields': fieldEditor.hasFields,
      'field-selected': !!(fieldEditor.selectedField$ | async)
    }">
  <div class="fields-container">
    <div class="fields"
        cdkDropList
        (cdkDropListDropped)="drop($event)"
        [id]="fieldEditor.editorId">
      <ng-container *ngFor="let field of fieldEditor.config.fields">
        <fs-field-editor-item
          class="fs-field field"
          (click)="fieldClick(field)"
          [field]="field"
          [fieldConfigTemplateRefs]="fieldConfigTemplateRefs"
          [fieldRenderTemplateRefs]="fieldRenderTemplateRefs"
          [fieldContainerTemplateRef]="fieldContainerTemplateRef">
        </fs-field-editor-item>
      </ng-container>
    </div>
  </div>

  <div class="toolbar-container" #boundary>
    <div #spacer></div>
    <div class="toolbar">
      <div
        class="toolbar-wrapper"
        stickyThing
        [spacer]="spacer"
        [scrollContainer]="scrollContainer"
        [boundary]="scrollContainer ? null : boundary"
        [marginTop]="50">
        <ng-container
          *ngTemplateOutlet="editorToolbarTpl || toolbarTpl; context: { $implicit: toolbarTpl, template: toolbarTpl } ">
        </ng-container>
        <ng-template #toolbarTpl>
          <fs-field-toolbar
            [toolbarItems]="fieldEditor.config.toolbar.items">
          </fs-field-toolbar>
        </ng-template>      

      </div>
    </div>

  </div>
</div>
