@if (show$ | async) {
  <div
    class="field-container"
    [ngClass]="['field-' + field.type]">
    @if (fieldRenderTemplateRefs[field.type]) {
      <ng-template
        [ngTemplateOutlet]="fieldRenderTemplateRefs[field.type]"
        [ngTemplateOutletContext]="{ fieldRenderer: fieldRenderer, field: field, disabled: disabled$ | async }">
      </ng-template>
    } @else {
      @switch (field.type) {
        @case (fieldType.ShortText) {
          <ng-container *ngTemplateOutlet="fsFieldText"></ng-container>
        }
        @case (fieldType.LongText) {
          <ng-container *ngTemplateOutlet="fsFieldText"></ng-container>
        }
        @case (fieldType.Phone) {
          <ng-container *ngTemplateOutlet="fsFieldText"></ng-container>
        }
        @case (fieldType.Email) {
          <ng-container *ngTemplateOutlet="fsFieldText"></ng-container>
        }
        @case (fieldType.Date) {
          <fs-field-render-date
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-date>
        }
        @case (fieldType.Birthday) {
          <fs-field-render-birthday
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-birthday>
        }
        @case (fieldType.Time) {
          <fs-field-render-time
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-time>
        }
        @case (fieldType.Choice) {
          <fs-field-render-choice
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-choice>
        }
        @case (fieldType.Dropdown) {
          <fs-field-render-dropdown
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-dropdown>
        }
        @case (fieldType.Checkbox) {
          <fs-field-render-checkbox
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-checkbox>
        }
        @case (fieldType.Name) {
          <fs-field-render-name
            [field]="field"
            [disabled]="disabled$ | async"
            (changed)="fieldRenderer.fieldChange($event)">
          </fs-field-render-name>
        }
        @case (fieldType.Heading) {
          <!-- <fs-field-view-heading [field]="field">
        </fs-field-view-heading> -->
      }
      @case (fieldType.Heading) {
        <fs-field-view-heading [field]="field"></fs-field-view-heading>
      }
      @case (fieldType.File) {
        <fs-field-render-file
          [field]="field"
          [disabled]="disabled$ | async">
        </fs-field-render-file>
      }
      @case (fieldType.Gender) {
        <fs-field-render-gender
          [field]="field"
          [disabled]="disabled$ | async"
          (changed)="fieldRenderer.fieldChange($event)">
        </fs-field-render-gender>
      }
      @case (fieldType.Address) {
        <fs-field-render-address
          [field]="field"
          [disabled]="disabled$ | async"
          (changed)="fieldRenderer.fieldChange($event)">
        </fs-field-render-address>
      }
      @case (fieldType.Content) {
        <fs-field-render-content
          [field]="field"
          [disabled]="disabled$ | async"
          (changed)="fieldRenderer.fieldChange($event)">
        </fs-field-render-content>
      }
      @case (fieldType.RichText) {
        <fs-field-render-rich-text
          [field]="field"
          [disabled]="disabled$ | async"
          (changed)="fieldRenderer.fieldChange($event)">
        </fs-field-render-rich-text>
      }
      @case (fieldType.VisualSelector) {
        <fs-field-render-visual-selector
          [field]="field"
          [disabled]="disabled$ | async"
          (changed)="fieldRenderer.fieldChange($event)">
        </fs-field-render-visual-selector>
      }
    }
    <ng-template #fsFieldText>
      <fs-field-render-text
        [field]="field"
        [disabled]="disabled$ | async"
        (changed)="fieldRenderer.fieldChange($event)">
      </fs-field-render-text>
    </ng-template>
  }
</div>
}